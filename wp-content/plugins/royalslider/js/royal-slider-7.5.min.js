/*
 * RoyalSlider  v7.5
 *
 * Copyright 2011, Dmitry Semenov
 * 
 */
(function($){function RoyalSlider(f,g){this.slider=$(f);this._az="";this._by="";this._cx="";var h=this;this.settings=$.extend({},$.fn.royalSlider.defaults,g);this.isSlideshowRunning=false;this._dw=false;this._ev=this.slider.find(".royalSlidesContainer");this._fu=this._ev.wrap('<div class="royalWrapper"/>').parent();this.slides=this._ev.find(".royalSlide");this._gt="<p class='royalPreloader'></p>";this._hs=false;this._ir=false;if("ontouchstart"in window){if(!this.settings.disableTranslate3d){if(('WebKitCSSMatrix'in window&&'m11'in new WebKitCSSMatrix())){this._ev.css({"-webkit-transform-origin":"0 0","-webkit-transform":"translateZ(0)"});this._ir=true}}this.hasTouch=true;this._az="touchstart.rs";this._by="touchmove.rs";this._cx="touchend.rs"}else{this.hasTouch=false;if(this.settings.dragUsingMouse){this._az="mousedown.rs";this._by="mousemove.rs";this._cx="mouseup.rs"}else{this._ev.addClass('auto-cursor')}}if(this.hasTouch){this.settings.directionNavAutoHide=false;this.settings.hideArrowOnLastSlide=true}if($.browser.msie&&parseInt($.browser.version)<=8){this._jq=true}else{this._jq=false}this.slidesArr=[];var i,jqSlide,dataSRC,q;this.slides.each(function(){jqSlide=$(this);i={};i.slide=jqSlide;if(h.settings.blockLinksOnDrag){if(!this.hasTouch){jqSlide.find('a').bind('click.rs',function(e){if(h._hs){e.preventDefault();return false}})}else{var c=jqSlide.find('a');var d;c.each(function(){d=$(this);d.data('royalhref',d.attr('href'));d.data('royaltarget',d.attr('target'));d.attr('href','#');d.bind('click',function(e){e.preventDefault();if(h._hs){return false}else{var a=$(this).data('royalhref');var b=$(this).data('royaltarget');if(!b||b.toLowerCase()==='_kp'){window.location.href=a}else{window.open(a)}}})})}}if(h.settings.nonDraggableClassEnabled){jqSlide.find('.non-draggable').bind(h._az,function(e){h._hs=false;e.stopImmediatePropagation()})}dataSRC=jqSlide.attr("data-src");if(dataSRC==undefined||dataSRC==""||dataSRC=="none"){i.preload=false}else{i.preload=true;i.preloadURL=dataSRC}if(h.settings.captionAnimationEnabled){i.caption=jqSlide.find(".royalCaption").css("display","none")}h.slidesArr.push(i)});this._lo=false;if(this.settings.removeCaptionsOpacityInIE8){if($.browser.msie&&parseInt($.browser.version,10)<=8){this._lo=true}}this.slider.css("overflow","visible");this.slideWidth=0;this.slideHeight=0;this.slideshowTimer='';this.mn=false;this.numSlides=this.slides.length;this.currentSlideId=this.settings.startSlideIndex;this.lastSlideId=-1;this.isAnimating=true;this.wasSlideshowPlaying=false;this._az1=0;this._by1=0;this._cx1=false;this._dw1=[];this._ev1=[];this._fu1=false;this._gt1=0;this._hs1=0;this._ir1=0;this._jq1=0;this._kp1=false;this._lo1=false;if(this.settings.slideTransitionType==="fade"){this._mn1=$("<div class='fade-container'></div>").appendTo(this._fu)}if(this.settings.slideshowEnabled&&this.settings.slideshowDelay>0){if(this.settings.slideshowPauseOnHover){this.slider.hover(function(){h._lo1=true;h._az2(true)},function(){h._lo1=false;h._by2(true)})}this.slideshowEnabled=true}else{this.slideshowEnabled=false}this._cx2();if(this.settings.controlNavEnabled){var j;this._dw2Container='';var k;if(!h.settings.controlNavThumbs){this._dw2Container=$('<div class="royalControlNavOverflow"><div class="royalControlNavContainer"><div class="royalControlNavCenterer"></div></div></div>');j=this._dw2Container.find('.royalControlNavCenterer')}else{this.slider.addClass('with-thumbs');if(h.settings.controlNavThumbsNavigation){k=$('<div class="thumbsAndArrowsContainer"></div>');this.thumbsArrowLeft=$("<a href='#' class='thumbsArrow left'></a>");this.thumbsArrowRight=$("<a href='#' class='thumbsArrow right'></a>");k.append(this.thumbsArrowLeft);k.append(this.thumbsArrowRight);var l=parseInt(this.thumbsArrowLeft.outerWidth(),10);this._dw2Container=$('<div class="royalControlNavOverflow royalThumbs"><div class="royalControlNavThumbsContainer"></div></div>');j=this._dw2Container.find('.royalControlNavThumbsContainer')}else{this._dw2Container=$('<div class="royalControlNavOverflow royalThumbs"><div class="royalControlNavContainer"><div class="royalControlNavCenterer"></div></div></div>');j=this._dw2Container.find(".royalControlNavCenterer")}}var m=0;this.slides.each(function(a){if(h.settings.controlNavThumbs){j.append('<a href="#" class="royalThumb" style="background-image:url('+$(this).attr("data-thumb")+')">'+(a+1)+'</a>')}else{j.append('<a href="#">'+(a+1)+'</a>')}m++});this.navItems=j.children();if(k){k.append(this._dw2Container);this._fu.after(k)}else{this._fu.after(this._dw2Container)}if(h.settings.controlNavThumbs&&h.settings.controlNavThumbsNavigation){this._gt2=true;this._hs2=false;this._ir2=j;if(this._ir){this._ir2.css({'-webkit-transition-duration':this.settings.controlNavThumbsSpeed+"ms",'-webkit-transition-property':'-webkit-transform','-webkit-transition-timing-function':"ease-in-out"})}this._jq2=m;var n=this.navItems.eq(0);this._kp2=n.outerWidth(true);this._lo2=this._kp2*this._jq2;this._ir2.css("width",this._lo2);this._mn2=parseInt(n.css("marginRight"),10);this._lo2-=this._mn2;this._az3=0;this._by3();this.thumbsArrowLeft.click(function(e){e.preventDefault();if(!h._gt2)h._cx3(h._az3+h._dw3+h._mn2)});this.thumbsArrowRight.click(function(e){e.preventDefault();if(!h._hs2)h._cx3(h._az3-h._dw3-h._mn2)})}this._ev3()}if(this.settings.directionNavEnabled){this._fu.after("<a href='#' class='arrow left'/>");this._fu.after("<a href='#' class='arrow right'/>");this.arrowLeft=this.slider.find("a.arrow.left");this.arrowRight=this.slider.find("a.arrow.right");if(this.arrowLeft.length<1||this.arrowRight.length<1){this.settings.directionNavEnabled=false}else if(this.settings.directionNavAutoHide){this.arrowLeft.hide();this.arrowRight.hide();this.slider.one("mousemove.arrowshover",function(){h.arrowLeft.fadeIn("fast");h.arrowRight.fadeIn("fast")});this.slider.hover(function(){h.arrowLeft.fadeIn("fast");h.arrowRight.fadeIn("fast")},function(){h.arrowLeft.fadeOut("fast");h.arrowRight.fadeOut("fast")})}this._fu3()}this.sliderWidth=0;this.sliderHeight=0;var o;$(window).bind('resize.rs',function(){if(o)clearTimeout(o);o=setTimeout(function(){h.updateSliderSize()},100)});this.updateSliderSize();this.settings.beforeLoadStart.call(this);var p=this.slidesArr[this.currentSlideId];if(this.currentSlideId!=0){if(!this._ir){this._ev.css({'left':-this.currentSlideId*this.slideWidth})}else{this._ev.css({'-webkit-transition-duration':'0ms','-webkit-transition-property':'none'});this._ev.css({'-webkit-transform':'translate3d('+ -this.currentSlideId*this.slideWidth+'px, 0, 0)'})}}if(this.settings.welcomeScreenEnabled){function hideWelcomeScreen(a){h.settings.loadingComplete.call(h);if(a&&h.settings.preloadNearbyImages){h._gt3(h.currentSlideId)}h.slider.find('.royalLoadingScreen').fadeOut(h.settings.welcomeScreenShowSpeed);setTimeout(function(){h._hs3()},h.settings.welcomeScreenShowSpeed+100)}if(p.preload){this._gt3(this.currentSlideId,function(){hideWelcomeScreen(false)})}else{var q=p.slide.find('img.royalImage')[0];if(q){if(this._ir3(q)){hideWelcomeScreen(true);$(q).css('opacity',0);$(q).animate({"opacity":1},"fast")}else{$('<img />').load(function(){hideWelcomeScreen(true);$(q).css('opacity',0);$(q).animate({"opacity":1},"fast")}).attr('src',q.src)}}else{hideWelcomeScreen(true)}}}else{if(p.preload){this._jq3(p,function(){h.settings.loadingComplete.call(h);if(h.settings.preloadNearbyImages){h._gt3(h.currentSlideId)}})}else{var q=p.slide.find('img.royalImage')[0];if(q){if(this._ir3(q)){$(q).css('opacity',0).animate({"opacity":1},"fast")}else{$('<img />').load(function(){$(q).css('opacity',0).animate({"opacity":1},"fast")}).attr('src',q.src)}}this.settings.loadingComplete.call(this)}setTimeout(function(){h._hs3()},100)}}RoyalSlider.prototype={goTo:function(a,b,c,d){if(!this.isAnimating){this.isAnimating=true;var f=this;this.lastSlideId=this.currentSlideId;this.currentSlideId=a;this._ev.unbind(this._az);this._fu1=true;if(this.lastSlideId!=a){this._ev3(c);this._gt3(a)}this._fu3();this.settings.beforeSlideChange.call(this);if(this.slideshowEnabled){if(!this.mn){if(this.slideshowTimer!=''){this.wasSlideshowPlaying=true;this._az2()}else{this.wasSlideshowPlaying=false}}}var g=!b?this.settings.slideTransitionSpeed:0;if(d||b||this.settings.slideTransitionType==="move"){if(!this._ir){if(parseInt(this._ev.css("left"),10)!==-this.currentSlideId*this.slideWidth){this._ev.animate({left:-this.currentSlideId*this.slideWidth},g,this.settings.slideTransitionEasing,function(){f._kp3()})}else{this._kp3()}}else{if(this._lo3()!==-this.currentSlideId*this.slideWidth){this._ev.bind("webkitTransitionEnd",function(e){if(e.target==f._ev.get(0)){f._kp3();f._ev.unbind("webkitTransitionEnd")}});this._ev.css({'-webkit-transition-duration':g+"ms",'-webkit-transition-property':'-webkit-transform','-webkit-transition-timing-function':"ease-in-out",'-webkit-transform':'translate3d('+ -this.currentSlideId*this.slideWidth+'px, 0, 0)'})}else{this._kp3()}}}else{var h=this.slidesArr[this.lastSlideId].slide;var i=h.clone().appendTo(this._mn1);if(!this._ir){this._ev.css({left:-this.currentSlideId*this.slideWidth});i.animate({opacity:0},g,this.settings.slideTransitionEasing,function(){i.remove();f._kp3()})}else{this._ev.css({'-webkit-transition-duration':'0','-webkit-transition-property':'-webkit-transform','-webkit-transform':'translate3d('+ -this.currentSlideId*this.slideWidth+'px, 0, 0)','opacity':'1'});setTimeout(function(){i.bind("webkitTransitionEnd",function(e){if(e.target==i.get(0)){i.unbind("webkitTransitionEnd");i.remove();f._kp3()}});i.css({'-webkit-transition-duration':g+"ms",'-webkit-transition-property':'opacity','-webkit-transition-timing-function':"ease-in-out"});i.css('opacity',0)},100)}}}},goToSilent:function(a){this.goTo(a,true)},prev:function(){if(this.currentSlideId<=0){this.goTo(this.numSlides-1)}else{this._mn3()}},next:function(){if(this.currentSlideId>=this.numSlides-1){this.goTo(0)}else{this._az4()}},updateSliderSize:function(){var a=this;this.sliderWidth=this.slider.width();this.sliderHeight=this.slider.height();if(this.sliderWidth!=this.slideWidth||this.sliderHeight!=this.slideHeight){this.slideWidth=this.sliderWidth+this.settings.slideSpacing;var b=this.slidesArr.length;var c,_cx4;for(var i=0,len=b;i<len;++i){c=this.slidesArr[i];_cx4=c.slide.find("img.royalImage").eq(0);if(_cx4&&c.preload==false){this._dw4(_cx4,this.sliderWidth,this.sliderHeight)}if(this.settings.slideSpacing>0&&i<b-1){c.slide.css({'margin-right':this.settings.slideSpacing})}c.slide.css({height:a.sliderHeight,width:a.sliderWidth})}if(!this._ir){this._ev.css({"left":-this.currentSlideId*this.slideWidth,width:this.slideWidth*this.numSlides})}else{this._ev.css({'-webkit-transition-duration':'0ms','-webkit-transition-property':'none'});this._ev.css({'-webkit-transform':'translate3d('+ -this.currentSlideId*this.slideWidth+'px, 0, 0)',width:this.slideWidth*this.numSlides})}if(this.settings.controlNavThumbs&&this.settings.controlNavThumbsNavigation){this._by3()}}},stopSlideshow:function(){this._az2();this.slideshowEnabled=false},resumeSlideshow:function(){this.slideshowEnabled=true;this._by2()},destroy:function(){this._az2();this._ev.unbind(this._az);$(document).unbind(this._by).unbind(this._cx);$(window).unbind('resize.rs');if(this.settings.keyboardNavEnabled){$(document).unbind("keydown.rs")}this.slider.remove();delete this.slider},_gt3:function(a,b){if(this.settings.preloadNearbyImages){var c=this;this._jq3(this.slidesArr[a],function(){if(b){b.call()}c._jq3(c.slidesArr[a+1],function(){c._jq3(c.slidesArr[a-1])})})}else{this._jq3(this.slidesArr[a],b)}},_ev3:function(a){if(this.settings.controlNavEnabled){this.navItems.eq(this.lastSlideId).removeClass('current');this.navItems.eq(this.currentSlideId).addClass("current");if(this.settings.controlNavThumbs&&this.settings.controlNavThumbsNavigation){var b=this.navItems.eq(this.currentSlideId).position().left;var c=b-Math.abs(this._az3);if(c>this._dw3-this._kp2*2-1-this._mn2){if(!a){this._cx3(-b+this._kp2)}else{this._cx3(-b-this._kp2*2+this._dw3+this._mn2)}}else if(c<this._kp2*2-1){if(!a){this._cx3(-b-this._kp2*2+this._dw3+this._mn2)}else{this._cx3(-b+this._kp2)}}}}},_fu3:function(){if(this.settings.directionNavEnabled){if(this.settings.hideArrowOnLastSlide){if(this.currentSlideId==0){this._gt4=true;this.arrowLeft.addClass("disabled");if(this._hs4){this._hs4=false;this.arrowRight.removeClass("disabled")}}else if(this.currentSlideId==this.numSlides-1){this._hs4=true;this.arrowRight.addClass("disabled");if(this._gt4){this._gt4=false;this.arrowLeft.removeClass("disabled")}}else{if(this._gt4){this._gt4=false;this.arrowLeft.removeClass("disabled")}else if(this._hs4){this._hs4=false;this.arrowRight.removeClass("disabled")}}}}},_by2:function(a){if(this.slideshowEnabled){if(this.slideshowTimer==''){if(a){if(!this._dw){return}}var b=this;this.slideshowTimer=setInterval(function(){b.next()},this.settings.slideshowDelay);this.isSlideshowRunning=true}}},_az2:function(a){if(this.slideshowEnabled){if(a){this._dw=this.isSlideshowRunning}else{this._dw=false;this.isSlideshowRunning=false}clearInterval(this.slideshowTimer);this.slideshowTimer=''}},_jq3:function(a,b){if(a){if(a.preload){var c=this;var d=new Image();var e=$(d);e.css("opacity",0);e.addClass("royalImage");a.slide.prepend(e);a.slide.prepend(this._gt);a.preload=false;e.load(function(){c._dw4(e,c.sliderWidth,c.sliderHeight);e.animate({"opacity":1},300,function(){a.slide.find(".royalPreloader").remove()});if(b)b.call()}).attr('src',a.preloadURL)}else{if(b)b.call()}}else{if(b)b.call()}},_by3:function(){this._dw3=parseInt(this._dw2Container.width(),10);this._ir4=-(this._lo2-this._dw3);if(this._dw3>=this._lo2){this._hs2=true;this._gt2=true;this.thumbsArrowRight.addClass("disabled");this.thumbsArrowLeft.addClass("disabled");this._cx1=true;this._jq4(0)}else{this._cx1=false;var a=this.navItems.eq(this.currentSlideId).position().left;this._cx3(-a+this._kp2)}},_cx3:function(a){if(!this._cx1&&a!=this._az3){if(a<=this._ir4){a=this._ir4;this._gt2=false;this._hs2=true;this.thumbsArrowRight.addClass("disabled");this.thumbsArrowLeft.removeClass("disabled")}else if(a>=0){a=0;this._gt2=true;this._hs2=false;this.thumbsArrowLeft.addClass("disabled");this.thumbsArrowRight.removeClass("disabled")}else{if(this._gt2){this._gt2=false;this.thumbsArrowLeft.removeClass("disabled")}if(this._hs2){this._hs2=false;this.thumbsArrowRight.removeClass("disabled")}}this._jq4(a);this._az3=a}},_jq4:function(a){if(!this._ir){this._ir2.animate({left:a},this.settings.controlNavThumbsSpeed,this.settings.controlNavThumbsEasing)}else{this._ir2.css({'-webkit-transform':'translate3d('+a+'px, 0, 0)'})}},_hs3:function(){var a=this;this.slider.find(".royalLoadingScreen").remove();if(this.settings.controlNavEnabled){this.navItems.bind("click",function(e){e.preventDefault();if(!a._fu1)a._kp4(e)})}if(this.settings.directionNavEnabled){this.arrowRight.click(function(e){e.preventDefault();if(!a._hs4&&!a._fu1)a.next()});this.arrowLeft.click(function(e){e.preventDefault();if(!a._gt4&&!a._fu1)a.prev()})}if(this.settings.keyboardNavEnabled){$(document).bind("keydown.rs",function(e){if(!a._fu1){if(e.keyCode===37){a.prev()}else if(e.keyCode===39){a.next()}}})}this.wasSlideshowPlaying=true;this._kp3();if(this.slideshowEnabled&&!this.settings.slideshowAutoStart){this._az2()}this.settings.allComplete.call(this)},_cx2:function(){this._ev.removeClass('grabbing-cursor');this._ev.addClass('grab-cursor')},_lo4:function(){this._ev.removeClass('grab-cursor');this._ev.addClass('grabbing-cursor')},_az4:function(a){if(this.currentSlideId<this.numSlides-1){this.goTo(this.currentSlideId+1,false,false,a)}else{this.goTo(this.currentSlideId,false,false,a)}},_mn3:function(a){if(this.currentSlideId>0){this.goTo(this.currentSlideId-1,false,false,a)}else{this.goTo(this.currentSlideId,false,false,a)}},_kp4:function(e){this.goTo($(e.currentTarget).index(),false,true)},_mn4:function(e){if(!this._kp1){var a;if(this.hasTouch){var b=e.originalEvent.touches;if(b&&b.length>0){a=b[0]}else{return false}}else{a=e;e.preventDefault()}if(this.slideshowEnabled){this.mn=true;if(this.slideshowTimer!=''){this.wasSlideshowPlaying=true;this._az2()}else{this.wasSlideshowPlaying=false}}this._lo4();this._kp1=true;var c=this;if(this._ir){c._ev.css({'-webkit-transition-duration':'0ms','-webkit-transition-property':'none'})}$(document).bind(this._by,function(e){c._az5(e)});$(document).bind(this._cx,function(e){c._by5(e)});if(!this._ir){this._jq1=this._gt1=parseInt(this._ev.css("left"),10)}else{this._jq1=this._gt1=this._lo3()}this._hs=false;this._hs1=a.clientX;this._ir1=a.clientY}return false},_lo3:function(){var a=this._ev.css("-webkit-transform");var b=a.replace(/^matrix\(/i,'').split(/, |\)$/g);return parseInt(b[4],10)},_az5:function(e){var a;if(this.hasTouch){var b=e.originalEvent.touches;if(b.length>1){return false}a=b[0];if(Math.abs(a.clientY-this._ir1)+10>Math.abs(a.clientX-this._hs1)){return false}e.preventDefault()}else{a=e;e.preventDefault()}this._by1=this._az1;var c=a.clientX-this._hs1;if(this._by1!=c){this._az1=c}if(c!=0){if(this.currentSlideId==0){if(c>0){c=Math.sqrt(c)*5}}else if(this.currentSlideId==(this.numSlides-1)){if(c<0){c=-Math.sqrt(-c)*5}}if(!this._ir){this._ev.css("left",this._gt1+c)}else{this._ev.css({'-webkit-transform':'translate3d('+(this._gt1+c)+'px, 0, 0)'})}}return false},_by5:function(e){if(this._kp1){this._kp1=false;this._cx2();if(!this._ir){this.endPos=parseInt(this._ev.css("left"),10)}else{this.endPos=this._lo3()}this.isdrag=false;$(document).unbind(this._by).unbind(this._cx);if(this.endPos==this._jq1){this._hs=false;return}else{this._hs=true}if(this._jq1-this.settings.minSlideOffset>this.endPos){if(this._by1<this._az1){this.goTo(this.currentSlideId,false,false,true);return false}this._az4(true)}else if(this._jq1+this.settings.minSlideOffset<this.endPos){if(this._by1>this._az1){this.goTo(this.currentSlideId,false,false,true);return false}this._mn3(true)}else{this.goTo(this.currentSlideId,false,false,true)}}return false},_kp3:function(){var a=this;if(this.slideshowEnabled){if(this.wasSlideshowPlaying){if(!this._lo1){this._by2()}else{this._dw=true}this.wasSlideshowPlaying=false;this.mn=false}}this._fu1=false;this._ev.bind(this._az,function(e){a._mn4(e)});if(this.settings.captionAnimationEnabled&&this.lastSlideId!=this.currentSlideId){if(this.lastSlideId!=-1){this.slidesArr[this.lastSlideId].caption.css("display","none")}a._cx5(a.currentSlideId)}this.isAnimating=false;this.settings.afterSlideChange.call(this)},_cx5:function(h){var j=this.slidesArr[h].caption;if(j&&j.length>0){j.css("display","block");var l=this;var m,fadeEnabled,moveEnabled,effectName,effectsObject,moveEffectProperty,currEffects,newEffectObj,moveOffset,delay,speed,easing,moveProp;var n=j.children();if(this._dw1.length>0){for(var a=this._dw1.length-1;a>-1;a--){clearTimeout(this._dw1.splice(a,1))}}if(this._ev1.length>0){var o;for(var k=this._ev1.length-1;k>-1;k--){o=this._ev1[k];if(o){if(!this._ir){if(o.running){o.captionItem.stop(true,true)}else{o.captionItem.css(o.css)}}}this._ev1.splice(k,1)}}for(var i=0;i<n.length;i++){m=$(n[i]);effectsObject={};fadeEnabled=false;moveEnabled=false;moveEffectProperty="";if(m.attr("data-show-effect")==undefined){currEffects=this.settings.captionShowEffects}else{currEffects=m.attr("data-show-effect").split(" ")}for(var q=0;q<currEffects.length;q++){if(fadeEnabled&&moveEnabled){break}effectName=currEffects[q].toLowerCase();if(!fadeEnabled&&effectName=="fade"){fadeEnabled=true;effectsObject['opacity']=1}else if(moveEnabled){break}else if(effectName=="movetop"){moveEffectProperty="margin-top"}else if(effectName=="moveleft"){moveEffectProperty="margin-left"}else if(effectName=="movebottom"){moveEffectProperty="margin-bottom"}else if(effectName=="moveright"){moveEffectProperty="margin-right"}if(moveEffectProperty!=""){effectsObject['moveProp']=moveEffectProperty;if(!l._ir){effectsObject['moveStartPos']=parseInt(m.css(moveEffectProperty),10)}else{effectsObject['moveStartPos']=0}moveEnabled=true}}moveOffset=parseInt(m.attr("data-move-offset"),10);if(isNaN(moveOffset)){moveOffset=this.settings.captionMoveOffset}delay=parseInt(m.attr("data-delay"),10);if(isNaN(delay)){delay=l.settings.captionShowDelay*i}speed=parseInt(m.attr("data-speed"),10);if(isNaN(speed)){speed=l.settings.captionShowSpeed}easing=m.attr("data-easing");if(!easing){easing=l.settings.captionShowEasing}newEffectObj={};if(moveEnabled){moveProp=effectsObject.moveProp;if(moveProp=="margin-right"){moveProp="margin-left";newEffectObj[moveProp]=effectsObject.moveStartPos+moveOffset}else if(moveProp=="margin-bottom"){moveProp="margin-top";newEffectObj[moveProp]=effectsObject.moveStartPos+moveOffset}else{newEffectObj[moveProp]=effectsObject.moveStartPos-moveOffset}}if(!l._lo&&fadeEnabled){m.css("opacity",0)}if(!l._ir){m.css("visibility","hidden");m.css(newEffectObj);if(moveEnabled){newEffectObj[moveProp]=effectsObject.moveStartPos}if(!l._lo&&fadeEnabled){newEffectObj.opacity=1}}else{var p={};if(moveEnabled){p['-webkit-transition-duration']="0ms";p['-webkit-transition-property']="none";p["-webkit-transform"]="translate3d("+(isNaN(newEffectObj["margin-left"])?0:(newEffectObj["margin-left"]+"px"))+", "+(isNaN(newEffectObj["margin-top"])?0:(newEffectObj["margin-top"]+"px"))+",0)";delete newEffectObj["margin-left"];delete newEffectObj["margin-top"]}newEffectObj["-webkit-transform"]="translate3d(0,0,0)";newEffectObj.visibility="visible";newEffectObj.opacity=1;if(!l._lo&&fadeEnabled){p["opacity"]=0}p["visibility"]="hidden";m.css(p)}this._ev1.push({captionItem:m,css:newEffectObj,running:false});this._dw1.push(setTimeout((function(a,b,c,d,e,f,g){return function(){l._ev1[e].running=true;if(!l._ir){a.css("visibility","visible").animate(b,c,d,function(){if(l._jq&&f){a.get(0).style.removeAttribute('filter')}delete l._ev1[e]})}else{a.css({'-webkit-transition-duration':(c+"ms"),'-webkit-transition-property':'opacity, -webkit-transform','-webkit-transition-timing-function':'ease-out'});a.css(b)}}})(m,newEffectObj,speed,easing,i,fadeEnabled,moveEnabled),delay))}}},_dw4:function(f,g,h){var i=this.settings.imageScaleMode;var j=this.settings.imageAlignCenter;if(j||i=="fill"||i=="fit"){var k=false;function scaleImg(){var a,vRatio,ratio,nWidth,nHeight;var b=new Image();b.src=f.attr("src");var c=b.width;var d=b.height;var e=parseInt(f.css("borderWidth"),10);e=isNaN(e)?0:e;if(isNaN(c)||isNaN(d)||c===0||d===0){if(!k){$('<img />').load(function(){k=true;scaleImg()}).attr('src',b.src);return}}if(i=="fill"||i=="fit"){a=g/c;vRatio=h/d;if(i=="fill"){ratio=a>vRatio?a:vRatio}else if(i=="fit"){ratio=a<vRatio?a:vRatio}else{ratio=1}nWidth=parseInt(c*ratio,10)-e;nHeight=parseInt(d*ratio,10)-e;f.attr({"width":nWidth,"height":nHeight}).css({"width":nWidth,"height":nHeight})}else{nWidth=c-e;nHeight=d-e}if(j){f.css({"margin-left":Math.floor((g-nWidth)/2),"margin-top":Math.floor((h-nHeight)/2)})}f.css("visibility","visible")};f.css("visibility","hidden");f.removeAttr('height').removeAttr('width');if(!this._ir3(f.get(0))){$('<img />').load(function(){scaleImg()}).attr('src',f.attr("src"))}else{scaleImg()}}},_ir3:function(a){if(a){if(!a.complete){return false}if(typeof a.naturalWidth!="undefined"&&a.naturalWidth==0){return false}}else{return false}return true}};$.fn.royalSlider=function(b){return this.each(function(){var a=new RoyalSlider($(this),b);$(this).data("royalSlider",a)})};$.fn.royalSlider.defaults={preloadNearbyImages:true,imageScaleMode:"none",imageAlignCenter:false,keyboardNavEnabled:false,directionNavEnabled:true,directionNavAutoHide:false,hideArrowOnLastSlide:true,slideTransitionType:"move",slideTransitionSpeed:400,slideTransitionEasing:"easeInOutSine",captionAnimationEnabled:true,captionShowEffects:["fade","moveleft"],captionMoveOffset:20,captionShowSpeed:400,captionShowEasing:"easeOutCubic",captionShowDelay:200,controlNavEnabled:true,controlNavThumbs:false,controlNavThumbsNavigation:true,controlNavThumbsSpeed:400,controlNavThumbsEasing:"easeInOutSine",slideshowEnabled:false,slideshowDelay:5000,slideshowPauseOnHover:true,slideshowAutoStart:true,welcomeScreenEnabled:false,welcomeScreenShowSpeed:500,minSlideOffset:20,disableTranslate3d:false,removeCaptionsOpacityInIE8:false,startSlideIndex:0,slideSpacing:0,blockLinksOnDrag:true,nonDraggableClassEnabled:true,dragUsingMouse:true,beforeSlideChange:function(){},afterSlideChange:function(){},beforeLoadStart:function(){},loadingComplete:function(){},allComplete:function(){}};$.fn.royalSlider.settings={}})(jQuery);